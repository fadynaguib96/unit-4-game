<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Collector Game</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Merienda|Monoton|Orbitron" rel="stylesheet">

</head>

<body>

    <p>Desired Score: <span class="comscore"></span></p>
    <p>Your Score: <span class="currentscore"> 0 </span></p>
    <p>Wins:</p> <span class="win"> 0</span></p>
    <p>Losses:</p> <span class="loss"> 0</span></p>
    <p class="results"></p>
    <p class="display"> </p>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <script text="text/javascript">

        var computerScore = "";
        var userScore = 0
        var wins = 0;
        var losses = 0;
        var stillPlaying = true;
        var imgArr = ["assets/images/crystal1.jpg",
            "assets/images/crystal2.jpg",
            "assets/images/crystal3.jpg",
            "assets/images/crystal4.jpg"
        ]


        function randomScore() {
            computerScore = Math.floor(Math.random() * (102) + 19);

        }





        function valueAssign() {
            for (var i = 0; i < imgArr.length; i++) {
                var crystals = $("<img>");
                crystals.addClass("crystal");
                crystals.attr("src", imgArr[i]);
                crystals.attr("value", (Math.floor(Math.random() * 12) + 1));
                $(".display").append(crystals);

            }

        }


        function startGame() {
            userScore = 0
            computerScore = "";
            
            $(".currentscore").text(userScore)
            $(".display").empty();

            valueAssign()

            randomScore()
            $(".comscore").text(computerScore)

        
            $(".crystal").on("click", function () {
                
                if (userScore < computerScore) {
                    stillPlaying = true
                    var crysValue = ($(this).attr("value"));
                    crysValue = parseInt(crysValue);
                    userScore = userScore + crysValue
                    $(".currentscore").text(userScore)
                }
                
                if (stillPlaying = true) {
                    if (userScore === computerScore) {
                        wins++
                        $(".win").text(wins)
                        $(".results").text("You win!!!")
                        startGame()
                    }
                    
                    else if (userScore > computerScore) {
                        losses++
                        $(".loss").text(losses)
                        $(".results").text("You lose!!!")
                        startGame()
                    }
                    
                }
                
            })
            
            
        }

        startGame()
            
            
            
    </script>





</body>

</html>